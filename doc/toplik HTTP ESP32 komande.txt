TOPLIK RESORT
----------------------------------------------------------------------
----------------------------------------------------------------------
			LISTA IMPLEMENTIRANIH HTTP KOMANDI
----------------------------------------------------------------------
----------------------------------------------------------------------
pritisak na taster BOOT duži od 5 sekundi briše postavke wifi konekcije 
i pokreće wifi manager portal ssid  WiFiManager na ip  192.168.4.1 
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_STATUS

opis:		preuzmi sve postavke uređaja
			
primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=GET_STATUS

odgovor: 	{
				"status": "success",
				"message": "System status retrieved",
				"data": {
					"wifi": {
					"ssid": "WiFi0",
					"password": "23456789",
					"mdns": "soba504",
					"ip": "192.168.88.83",
					"port": 8020
					},
					"time": {
					"utc": "2026-01-30 09:31:44",
					"timezone_offset_minutes": 60,
					"dst_active": false
					},
					"sun": {
					"sunrise": "07:05",
					"sunset": "16:54"
					},
					"light": {
					"relay_state": "OFF",
					"control_mode": "AUTO",
					"timer_on_type": "OFF",
					"timer_off_type": "OFF",
					"on_time": "00:00",
					"off_time": "00:00"
					},
					"ping_watchdog": false,
					"thermostat": {
					"temperature": 0,
					"setpoint": 25,
					"threshold": 0.5,
					"mode": "OFF",
					"valve": "OFF",
					"fan": "OFF",
					"ema_alpha": 0.2,
					"fluid_temp": -999,
					"fluid_available": false
					},
					"sos": {
					"active": false
					},
					"ir": {
					"protocol_id": 20,
					"protocol_name": "GREE"
					}
				}
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_IP_ADDRESS

opis:		traži trenutnu ip adresu direktno od uređeja. pristup ip
			adresom je neuporedivo brži od pristupa mDNS imenom tako 
			da je najbolji mehanizam pristupa pronalaženje uređaja 
			mDNS imenom i zamjena ip adresom do sledećeg prekida 
			u pristupu ili povremeni poziv na mDNS i zamjena ip adresom
			
primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=GET_IP_ADDRESS

odgovor: 	{
			  "status": "success",
			  "message": "IP address retrieved",
			  "data": {
			    "ip": "192.168.88.72",
			    "subnet": "255.255.255.0",
			    "gateway": "192.168.88.1"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_SSID_PSWRD

opis:		preuzmi trenutne postavke za wifi konekciju SSID i PASSWORD 
			ako je mreža otvorena bez lozinke onda samo SSID
			ovo je ispis iz flash memorije i ovo su postavke koje 
			će biti učitane nakon restarta, ovo je provjera upisa
			

primjer: 	http://soba505.local:8021/sysctrl.cgi?CMD=GET_SSID_PSWRD

odgovor: 	{
			  "status": "success",
			  "message": "WiFi credentials retrieved",
			  "data": {
			    "ssid": "WiFi0",
			    "password": "23456789",
			    "open_network": false
			  }
			}
			ili za otvorenu mrežu:
			{
			  "status": "success",
			  "message": "WiFi credentials retrieved",
			  "data": {
			    "ssid": "WiFi0",
			    "password": "",
			    "open_network": true
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_MDNS_NAME

opis:		preuzmi mDNS alias uređaja na mreži, ovo je ispis iz flash 
			memorije i ovo je ime uređaja na mreži koje  će biti učitano
			nakon restarta, ovo je provjera komande upisa 

primjer: 	http://soba505.local:8021/sysctrl.cgi?CMD=GET_MDNS_NAME

odgovor: 	{
			  "status": "success",
			  "message": "mDNS name retrieved",
			  "data": {
			    "mdns": "soba505"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_TCPIP_PORT

opis:		preuzmi port uređaja na mreži, ovo je ispis iz flash memorije
			i ovo je port uređaja na mreži koje  će biti učitan nakon
			restarta, ovo je provjera komande upisa 

primjer: 	http://soba505.local:8021/sysctrl.cgi?CMD=GET_TCPIP_PORT

odgovor: 	{
			  "status": "success",
			  "message": "TCP/IP port retrieved",
			  "data": {
			    "port": 8021
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_ROOM_TEMP

opis:		upit trenutne i zadane temperature sobe, bitno je adresirati
			kontroler sa senzorom temperature t.j. termostat u sobi.
			Ovisno o uređaju koji odgovara (RS485 termostat ili RS485 scene
			kontroler), odgovor će sadržavati različit broj podataka.
			RS485 scene kontroler vraća samo sobnu i zadanu temperaturu,
			dok RS485 termostat vraća punu strukturu podataka.

primjer: 	http://soba505.local:8021/sysctrl.cgi?CMD=GET_ROOM_TEMP&ID=92

odgovor: 	**Za RS485 scene kontroler (kraći odgovor):**
			{
			  "status": "success",
			  "message": "Room temperature retrieved",
			  "data": {
			    "room_temperature": 26,
			    "setpoint_temperature": 24
			  }
			}
			
			**Za RS485 termostat (duži odgovor):**
			{
			  "status": "success",
			  "message": "Room temperature retrieved",
			  "data": {
			    "room_temperature": 26,
			    "setpoint_temperature": 24,
			    "fan_speed": 1,
			    "thermostat_control_mode": 2,
			    "setpoint_max": 30,
			    "setpoint_min": 18,
			    "fan_control_mode": 0,
			    "forward_heating": true,
			    "forward_cooling": false,
			    "thst_enable_heating": true,
			    "thst_enable_cooling": false
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_GUEST_IN_TEMP

opis:		preuzmi podešenu temperaturu sobe kada gost uđe sa karticom,
			bitno je adresirati kontroler sa ulazom za odlagač kartica

primjer: 	http://soba505.local:8021/sysctrl.cgi?CMD=GET_GUEST_IN_TEMP&ID=201

odgovor: 	{
			  "status": "success",
			  "message": "Guest in temperature retrieved",
			  "data": {
			    "guest_in_temperature": 22
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_GUEST_OUT_TEMP

opis:		preuzmi podešenu temperaturu sobe kada gost izvadi karticu 
			iz odlagača bitno je adresirati kontroler sa ulazom za 
			odlagač kartica

primjer: 	http://soba505.local:8021/sysctrl.cgi?CMD=GET_GUEST_OUT_TEMP&ID=201

odgovor: 	{
			  "status": "success",
			  "message": "Guest out temperature retrieved",
			  "data": {
			    "guest_out_temperature": 18
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_FAN_DIFFERENCE

opis:		preuzmi podešenu temperaturnu diferencu termostata

primjer: 	http://soba505.local:8021/sysctrl.cgi?CMD=GET_FAN_DIFFERENCE&ID=200

odgovor: 	{
			  "status": "success",
			  "message": "Fan difference retrieved",
			  "data": {
			    "fan_difference": 0
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_FAN_BAND

opis:		preuzmi podešeni lo i high band termostata za kontrolu 
			prelaza brzina fancoil motora

primjer: 	http://soba505.local:8021/sysctrl.cgi?CMD=GET_FAN_BAND&ID=200

odgovor: 	{
			  "status": "success",
			  "message": "Fan band retrieved",
			  "data": {
			    "fan_low_band": 1,
			    "fan_high_band": 2
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_PINS

opis:		preuzmi trenutno stanje izlaznih pinova sobnih kontrolera,
			na kontroleru na kojem je priključen odlagač kartica
			sa lijeva na desno su:
			1 = SCENE 1
			2 = SCENE 2
			3 = SCENE 3
			4 = BUZZER
			5 = NE KORISTI SE PIN
			6 = NE KORISTI SE PIN
			7 = NE POSTOJI PIN
			8 = NE POSTOJI PIN
			
			na kontroleru na kojem je termostat i kontrola motora
			fancoila sa lijeva na desno su:
			1 = SVJETLO KUPATILA
			2 = SVJETLO OGLEDALA
			3 = MOTOR NAJVEĆA BRZINA
			4 = BUZZER
			5 = MOTOR SREDNJA BRZINA
			6 = MOTOR NAJMANJA BRZINA
			7 = NE POSTOJI PIN
			8 = NE POSTOJI PIN

primjer: 	http://soba505.local:8021/sysctrl.cgi?CMD=GET_PINS&ID=200

odgovor: 	{
			  "status": "success",
			  "message": "Pin states retrieved",
			  "data": {
			    "pin_states": "00100000"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_TIME

opis:		preuzmi RTC vrijeme sa ESP-a 

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=GET_TIME

odgovor: 	{
			  "status": "success",
			  "message": "Current time retrieved",
			  "data": {
			    "date": "02.06.2025",
			    "time": "15:28:16",
			    "day": "Monday",
			    "epoch": 1748870896
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_TIMER

opis:		preuzmi postavke timera vanjske rasvjete

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=GET_TIMER

odgovor: 	{
			  "status": "success",
			  "message": "Timer settings retrieved",
			  "data": {
			    "timer_on": "SUNSET",
			    "timer_off": "SUNRISE",
			    "on_time": "0000",
			    "off_time": "0000",
			    "sunrise": "05:06",
			    "sunset": "20:23",
			    "relay_state": "OFF",
			    "dst_active": true
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_PINGWDG

opis:		stanje ping watchdog servisa. 

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=GET_PINGWDG

odgovor: 	{
			  "status": "success",
			  "message": "Ping watchdog state retrieved",
			  "data": {
			    "enabled": true
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_SSID_PSWRD

opis:		podesi podatke za wifi konekciju. ukoliko je mreža otvorenog 
			tipa izostavi PSWRD podatak. ovo je komanda za upis parametara
			wifi konekcije u memoriju i koristiće se od sledećeg restarta
			tako da je moguće provjeriti upis sa GET_SSID_PSWRD i promjeniti 
			podatke prije restarta uređaja i gubitka konekcije. 
			

primjer: 	http://soba505.local:8021/sysctrl.cgi?CMD=SET_SSID_PSWRD&SSID=WiFi0&PSWRD=23456789
			http://soba505.local:8021/sysctrl.cgi?CMD=SET_SSID_PSWRD&SSID=WiFi0

odgovor: 	{
			  "status": "success",
			  "message": "WiFi credentials saved",
			  "data": {
			    "ssid": "WiFi0"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_MDNS_NAME

opis:		promjeni multicast DNS ime uređaja. ovo je upis u memoriju
			novog multicast imena koje će biti validno nakon retarta. 
			za provjeru upisa koristi GET_MDNS_NAME. zbog keširanja u 
			ruteru i windosw os stari alias će biti aktivan nekih pola
			minute do minutu a nakon prvih poziva novog imena će biti
			izbrisan iz tabela

primjer: 	http://soba505.local:8021/sysctrl.cgi?CMD=SET_MDNS_NAME&MDNS=soba501

odgovor: 	{
			  "status": "success",
			  "message": "mDNS name saved",
			  "data": {
			    "mdns": "soba501"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_TCPIP_PORT

opis:		promjeni tcp/ip port za pristp uređaju. ovaj port se koristi
			i za http, mDNS kao i za update. ovo je upis u memoriju koji
			će se koristiti nakon restarta uređaja tako da se može
			provjeriti sa GET_TCPIP_PORT prije nego novi port bude validan

primjer: 	http://soba501.local:8021/sysctrl.cgi?CMD=SET_TCPIP_PORT&PORT=8020

odgovor: 	{
			  "status": "success",
			  "message": "TCP/IP port saved",
			  "data": {
			    "port": 8020
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_ROOM_TEMP

opis:		podesi temperaturu sobe. nije bitno da li se adresira kontroler
			koji je termostat ili proxy kontroler svjetala. zadana temperatura
			je u opsegu 5 - 40. id kontrolera 1-254

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_ROOM_TEMP&ID=92&VALUE=30

odgovor: 	{
			  "status": "success",
			  "message": "Temperature set OK",
			  "data": {
			    "result": "Temperature set OK"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_GUEST_IN_TEMP

opis:		podesi temperaturu termostata kada se ubaci kartica u odlagač. 
			bitno je adresirati kontroler sa ulazom za odlagač kartica.
			zadana temperatura je u opsegu 5 - 40. id kontrolera 1-254

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_GUEST_IN_TEMP&ID=201&VALUE=22

odgovor: 	{
			  "status": "success",
			  "message": "Temperature set OK",
			  "data": {
			    "result": "Temperature set OK"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_GUEST_OUT_TEMP

opis:		podesi temperaturu termostata kada se izvadi kartica iz odlagača. 
			bitno je adresirati kontroler sa ulazom za odlagač kartica.
			zadana temperatura je u opsegu 5 - 40. id kontrolera 1-254

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_GUEST_OUT_TEMP&ID=201&VALUE=17

odgovor: 	{
			  "status": "success",
			  "message": "Temperature set OK",
			  "data": {
			    "result": "Temperature set OK"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_THST_HEATING

opis:		podesi termostat na režim grijanja.nije bitno da li se adresira 
			kontroler koji je termostat ili proxy kontroler svjetala.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_THST_HEATING&ID=200

odgovor: 	{
			  "status": "success",
			  "message": "Thermostat set OK",
			  "data": {
			    "result": "Thermostat set OK"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_THST_COOLING

opis:		podesi termostat na režim hlađenja.nije bitno da li se adresira 
			kontroler koji je termostat ili proxy kontroler svjetala.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_THST_COOLING&ID=201

odgovor: 	{
			  "status": "success",
			  "message": "Thermostat set OK",
			  "data": {
			    "result": "Thermostat set OK"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_THST_ON

opis:		aktiviraj termostat. slanje ove komande uvijek termostat prebacuje 
			u mod hlađenja  nebitno da li je termostat isključen ili već radi 
			u režimu grijanja, tako da je u zimskom periodu potrebno nakon ove
			komande poslati i SET_THST_HEATING.	nije bitno da li se adresira 
			kontroler koji je termostat ili proxy kontroler svjetala.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_THST_ON&ID=201

odgovor: 	{
			  "status": "success",
			  "message": "Thermostat set OK",
			  "data": {
			    "result": "Thermostat set OK"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_THST_OFF

opis:		isključi termostat. nije bitno da li se adresira kontroler 
			koji je termostat ili proxy kontroler svjetala.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_THST_OFF&ID=200

odgovor: 	{
			  "status": "success",
			  "message": "Thermostat set OK",
			  "data": {
			    "result": "Thermostat set OK"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_PIN

opis:		setuj izlazni pin kontrolera u sobi.  koristiti sa oprezom !!!
			ne postoji nikakav zaštitni mehanizam za kontrolu motora fancoila
			tako da je moguće ovom komandom uključiti sva tri nammotaja 
			istovremeno. koristi tabelu iz GET_PINS komande za raspored pinova.
			bitno je da se adresira ispravan uređaj jer će npr. uključena scena 3
			kod jednog, neispravnim adresiranjem uključiti namotaj najveće brzine
			fancoila bez obzira na trenutno stanje kontrole motora.
			

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_PIN&ID=200&PIN=1&VALUE=1

odgovor: 	{
			  "status": "success",
			  "message": "Pin set OK",
			  "data": {
			    "result": "Pin set OK"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_FWD_HEATING

opis:		omogući/onemogući automatsko prosleđivanje podataka sa termostata 
			na drugi uređaj kada je termostat u režimu grijanja. Kada je flag 
			uključen (VALUE=1), svaka promjena temperature ili kontrole termostata 
			u režimu grijanja se automatski prosleđuje na upareni uređaj.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_FWD_HEATING&ID=200&VALUE=1

odgovor: 	{
			  "status": "success",
			  "data": {
			    "result": "Forward heating flag set",
			    "value": true
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_FWD_COOLING

opis:		omogući/onemogući automatsko prosleđivanje podataka sa termostata 
			na drugi uređaj kada je termostat u režimu hlađenja. Kada je flag 
			uključen (VALUE=1), svaka promjena temperature ili kontrole termostata 
			u režimu hlađenja se automatski prosleđuje na upareni uređaj.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_FWD_COOLING&ID=200&VALUE=1

odgovor: 	{
			  "status": "success",
			  "data": {
			    "result": "Forward cooling flag set",
			    "value": true
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_ENABLE_HEATING

opis:		omogući/onemogući grijanje na termostatu. Kada je onemogućeno (VALUE=0),
			termostat neće aktivirati grijanje čak ni kada se podesi u režim grijanja.
			Koristi se za centralno isključivanje grijanja u ljetnom periodu.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_ENABLE_HEATING&ID=200&VALUE=0

odgovor: 	{
			  "status": "success",
			  "data": {
			    "result": "Enable heating flag set",
			    "value": false
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_ENABLE_COOLING

opis:		omogući/onemogući hlađenje na termostatu. Kada je onemogućeno (VALUE=0),
			termostat neće aktivirati hlađenje čak ni kada se podesi u režim hlađenja.
			Koristi se za centralno isključivanje hlađenja u zimskom periodu.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_ENABLE_COOLING&ID=200&VALUE=0

odgovor: 	{
			  "status": "success",
			  "data": {
			    "result": "Enable cooling flag set",
			    "value": false
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	OPEN_DOOR

opis:		jednostavna komanda za otvaranje vrata. automatski šalje potrebne
			parametre na adresirani kontroler. dovoljno je samo poslati ID
			sobnog kontrolera (čitača kartica) koji kontroliše bravu.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=OPEN_DOOR&ID=501

odgovor: 	{
			  "status": "success",
			  "message": "Door opened",
			  "data": {
			    "result": "Door opened"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_PASSWORD

opis:		podesi lozinku za korisnika. podržani tipovi su GUEST, MAID, MANAGER, 
			SERVICE i DELETE_GUEST.
			TYPE=GUEST zahtijeva GUEST_ID (1-8) i EXPIRY (HHMMDDMMYY).
			TYPE=DELETE_GUEST zahtijeva GUEST_ID.
			Lozinka mora sadržavati samo brojeve.
			
primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_PASSWORD&ID=501&TYPE=GUEST&GUEST_ID=1&PASSWORD=1234&EXPIRY=1200010126
			http://soba501.local:8020/sysctrl.cgi?CMD=SET_PASSWORD&ID=501&TYPE=MAID&PASSWORD=5678
			http://soba501.local:8020/sysctrl.cgi?CMD=SET_PASSWORD&ID=501&TYPE=DELETE_GUEST&GUEST_ID=1&PASSWORD=0000

odgovor: 	{
			  "status": "success",
			  "message": "Password set OK",
			  "data": {
			    "result": "Password set OK"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_PASSWORD

opis:		provjeri status lozinke. zahtijeva TYPE parametar.
			za GUEST tip potreban je i GUEST_ID.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=GET_PASSWORD&ID=501&TYPE=GUEST&GUEST_ID=1
			http://soba501.local:8020/sysctrl.cgi?CMD=GET_PASSWORD&ID=501&TYPE=MAID

odgovor: 	za GUEST tip:
			{
			  "status": "success",
			  "message": "Password retrieved",
			  "data": {
			    "user_type": "guest",
			    "guest_id": 1,
			    "password": 1234,
			    "expiry": "2027-01-01 12:00"
			  }
			}
			za STAFF tip:
			{
			  "status": "success",
			  "message": "Password retrieved",
			  "data": {
			    "user_type": "staff",
			    "password": 5678
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	READ_LOG

opis:		učitaj zadnji log sa kontrolera.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=READ_LOG&ID=501

odgovor: 	JSON Struktura:
			{
				"status": "success",
				"data": {
					"status": "OK",
					"device_id": 154,
					"log_id": 636,
					"event_code": "0xf7",
					"event_name": "PASSWORD_VALID",
					"event_description": "Korisnik usao PIN-om",
					"type": 0,
					"group": 83,
					"card_id": "0000000000",
					"date": "27.01.2026",
					"time": "14:13:18",
					"timestamp": "27.01.2026 14:13:18"
				}
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	DELETE_LOG

opis:		obriši zadnji log sa kontrolera.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=DELETE_LOG&ID=501

odgovor: 	JSON Struktura:
			{
				"status": "success",
				"message": "Log deleted successfully",
				"data": {
					"status": "OK",
					"device_id": 154
				}
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	RESTART

opis:		restart http_rs485 bridge uređaja sobe (esp-a). nakon promjena
			postavki potrebno je restartovat uređaj da bi nove postavke 
			bile validne.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=RESTART

odgovor: 	{
			  "status": "success",
			  "message": "Restart in 3s"
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	RESTART_CTRL

opis:		restartuj kontroler na rs485 busu. komanda je implementirana
			samo na kontrolerima u sobi, dok na ulaznim kontolerima nije.
			
primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=RESTART_CTRL&ID=92

odgovor: 	{
			  "status": "success",
			  "message": "Controller restart OK",
			  "data": {
			    "result": "Controller restart OK"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_TIME

opis:		podesi RTC vrijeme na ESP-a ručno ukoliko nije dostaupan
			NTP internet servis

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_TIME&DATE=020625&TIME=120000

odgovor: 	{
			  "status": "success",
			  "message": "RTC date and time set successfully",
			  "data": {
			    "date": "020625",
			    "time": "120000"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_TIMER

opis:		podesi timer vanjske rasvjete. timer ima mogućnost podešavanja vremena 
			uključenje i isključenja releja rasvjete u svim kombinacijama parametara. ako je 
			jedan parametar OFF a drugi podešen onda se stalno aktivira taj koji je podešen.
			ako je timer podešen provjera se vrši svake minute. omogućen je override timera 
			ručnim komandama kada relej rasvjete ostaje podešen do sledećeg događaja timera
			kada se kontrola ponovo vraća na timer. npr. uključeno svjetlo prije vremena
			timera ostaje uključeno do timeroff vremena ako je podešeno. u slučaju restarta
			provjerava se stanje postavki timera te se shodno setuje / resetuje relej
			dok ručno podešeno stanje više ne vrijedi. pin D32 je relej vanjske rasvjete.
			parametri timera:
			0000 do 2359 kao vrijeme od 00:00 do 23:59
			OFF kao isključen 
			SUNRISE izlazak sunca u Sarajevu
			SUNSET  zalazak sunca u Sarajevu

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_TIMER&TIMERON=SUNSET&TIMEROFF=SUNRISE
			http://soba501.local:8020/sysctrl.cgi?CMD=SET_TIMER&TIMERON=2030&TIMEROFF=0630
			http://soba501.local:8020/sysctrl.cgi?CMD=SET_TIMER&TIMERON=OFF&TIMEROFF=OFF

odgovor: 	{
			  "status": "success",
			  "message": "Timer set successfully",
			  "data": {
			    "timer_on": "SUNSET",
			    "timer_off": "SUNRISE",
			    "on_time": "0000",
			    "off_time": "0000"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	OUTDOOR_LIGHT_ON

opis:		override timera - uključenje releja rasvjete. u svakom trenutku 
			se može poslati komanda za promjenu stanja izlaza i ona važi do 
			sledećeg događaja timera ako je timer podešen. pin D32 je relej
			vanjske rasvjete

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=OUTDOOR_LIGHT_ON

odgovor: 	{
			  "status": "success",
			  "message": "Outdoor light state changed",
			  "data": {
			    "state": "ON"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	OUTDOOR_LIGHT_OFF

opis:		override timera - isključenje releja rasvjete. u svakom trenutku 
			se može poslati komanda za promjenu stanja izlaza i ona važi do 
			sledećeg događaja timera ako je timer podešen. pin D32 je relej
			vanjske rasvjete

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=OUTDOOR_LIGHT_OFF

odgovor: 	{
			  "status": "success",
			  "message": "Outdoor light state changed",
			  "data": {
			    "state": "OFF"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	PINGWDG_ON

opis:		omogući ping google servera svakih 60s, nakon 10 propalih
			pokušaja uređaj se restartuje.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=PINGWDG_ON

odgovor: 	{
			  "status": "success",
			  "message": "Ping watchdog enabled",
			  "data": {
			    "enabled": true
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	PINGWDG_OFF

opis:		onemogući ping watchdog ako mreža nema pritup internetu

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=PINGWDG_OFF

odgovor: 	{
			  "status": "success",
			  "message": "Ping watchdog disabled",
			  "data": {
			    "enabled": false
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	TH_STATUS

opis:		preuzmi postavke termostata na ESP modulu. onewire senzor
			temperature je DS18B20 na pinu D5. može se koristi dodatni 
			DS18B20 senzor na pinu D18 za očitanje temperature fluida
			ventilator 1 brzina je na pinu D25, srednja na D26 i D27
			je najbrža, ventil fancoila ili pumpa je na pinu D33 

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=TH_STATUS

odgovor: 	{
			  "status": "success",
			  "message": "Thermostat status retrieved",
			  "data": {
			    "status_text": "Temp=26.0*C\nSetpoint=20.0*C\nDiff=0.5*C\nMode=COOLING\nFC Pump / Valve=ON\nFloor Pump=OFF\nFan=HIGH",
			    "ema_alpha": 0.5,
			    "fluid_temp": 25.8,
			    "fluid_available": true
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	TH_SETPOINT

opis:		podesi setpoint termostata na ESP modulu

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=TH_SETPOINT&VALUE=24

odgovor: 	{
			  "status": "success",
			  "message": "Thermostat setpoint updated",
			  "data": {
			    "setpoint": 24.0
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	TH_DIFF

opis:		podesi diferencu termostata na ESP modulu u decimalnom formatu
			od 1 do 50 što predstavlja vrijednost diference od 0.1*C do 5.0*C 
			ova diferenca se višekratnikom prenosi na sve brzine ventilatora. 
			npr. kod hlađenja podešena diferenca je 
			temperatura > setpoint + diferenca 		=> 1. BRZINA
			temperatura > setpoint + diferenca * 2 	=> 2. BRZINA
			temperatura > setpoint + diferenca * 3 	=> 3. BRZINA

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=TH_DIFF&VALUE=5

odgovor: 	{
			  "status": "success",
			  "message": "Thermostat threshold updated",
			  "data": {
			    "threshold": 0.5
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	TH_HEATING

opis:		uključi termostat na ESP modulu u modu grijanja

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=TH_HEATING

odgovor: 	{
			  "status": "success",
			  "message": "Thermostat mode set to HEATING",
			  "data": {
			    "mode": "HEATING"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	TH_COOLING

opis:		uključi termostat na ESP modulu u modu hlađenja 

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=TH_COOLING

odgovor: 	{
			  "status": "success",
			  "message": "Thermostat mode set to COOLING",
			  "data": {
			    "mode": "COOLING"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	TH_ON

opis:		uključi termostat na ESP modulu u zadnjem odabranom modu rada

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=TH_ON

odgovor: 	{
			  "status": "success",
			  "message": "Thermostat turned ON",
			  "data": {
			    "mode": "COOLING",
			    "state": "ON"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	TH_OFF

opis:		isključi termostat na ESP modulu

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=TH_OFF

odgovor: 	{
			  "status": "success",
			  "message": "Thermostat turned OFF",
			  "data": {
			    "state": "OFF"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	TH_EMA

opis:		podesi EMA (Exponential Moving Average) filter mjerene temperature.
			vrijednost filtera je od 1 do 10 t.j. 0.1 do 1.0 prema sledećem:
			manji alpha = glađa, sporija reakcija, veći alpha = brža reakcija.
			Za sobu od 20-50 m², sa temperaturom koja se ne mijenja naglo 
			fiksni update = 10 sekundi + alpha = 0.5 je optimalno

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=TH_EMA&VALUE=5

odgovor: 	{
			  "status": "success",
			  "message": "EMA filter updated",
			  "data": {
			    "ema_alpha": 0.5
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	ESP_GET_PINS

opis:		stanje slobodnih pinova na ESP modulu. pinovi koji su 
			izlistani u odgovoru su pinovi koji nisu zauzeti firmawereom
			i mogu se slobodno koristiti. nakon svakog restarta svi pinovi
			su ulazni. ako se jednom poošalje bilo koja od komandi za 
			set/resetovanje pina uključuje se izlazni driver pina i pin 
			je do restarta izlazni. ovaj ispis daje trenutno stanje pina
			GPIO34, GPIO35, GPIO36 su input_only pinovi i nije ih moguće
			postaviti kao izlazne.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=ESP_GET_PINS

odgovor: 	{
			  "status": "success",
			  "message": "ESP32 pins status retrieved",
			  "data": {
			    "pins_status": "Available: 12,15,21,22,34,35,36\nGPIO12=LOW\nGPIO15=HIGH\nGPIO21=LOW\nGPIO22=LOW\nGPIO34=LOW\nGPIO35=LOW\nGPIO36=LOW"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	ESP_SET_PIN

opis:		setuj slobodan pin (HIGH) na ESP modulu. pin mora biti validan
			i raspoloživ t.j. neki od izlistanih u ESP_GET_PINS komandi
			GPIO34, GPIO35, GPIO36 su input_only pinovi i nije ih moguće
			postaviti kao izlazne. ako se jednom poošalje ova komanda za 
			neki pin taj pin je do restarta izlazni. 

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=ESP_SET_PIN&PIN=22

odgovor: 	{
			  "status": "success",
			  "message": "PIN set HIGH",
			  "data": {
			    "pin": 22,
			    "state": "HIGH"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	ESP_RESET_PIN

opis:		resetuj slobodan pin (LOW) na ESP modulu. pin mora biti validan
			i raspoloživ t.j. neki od izlistanih u ESP_GET_PINS komandi
			GPIO34, GPIO35, GPIO36 su input_only pinovi i nije ih moguće
			postaviti kao izlazne.  ako se jednom poošalje ova komanda za 
			neki pin taj pin je do restarta izlazni. 

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=ESP_RESET_PIN&PIN=22

odgovor: 	{
			  "status": "success",
			  "message": "PIN set LOW",
			  "data": {
			    "pin": 22,
			    "state": "LOW"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	ESP_PULSE_PIN

opis:		puls na slobodnom pinu (HIGH -> pauza -> LOW) na ESP modulu. 
			pin mora biti validan i raspoloživ t.j. neki od  izlistanih 
			u ESP_GET_PINS ili GET_STATUS komandi. parametar PAUSE je
			opcionalan i ako je izostavljen podrazumjeva se 2 sekunde.
			korisno za rampe, kapije, žaluzine. parametar PAUSE je u opsegu
			od 1 sekunde do  86400 sekundi (1 dana). GPIO34, GPIO35, GPIO36 
			su input_only pinovi i nije ih moguće postaviti kao izlazne.
			ako se jednom poošalje ova komanda za neki pin, taj pin je 
			do restarta izlazni. 

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=ESP_PULSE_PIN&PIN=22
			http://soba501.local:8020/sysctrl.cgi?CMD=ESP_PULSE_PIN&PIN=22&PAUSE=10

odgovor: 	{
			  "status": "success",
			  "message": "PIN pulsed",
			  "data": {
			    "pin": 22,
			    "duration_seconds": 2
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_LANG

opis:		podesi jezik na kontroleru. 
			VALUE: 0=SRB, 1=ENG, 2=GER

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_LANG&ID=501&VALUE=1

odgovor: 	{
			  "status": "success",
			  "message": "Language set OK",
			  "data": {
			    "result": "Language set OK"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	QR_CODE_SET

opis:		postavi QR kod na kontroleru. ID kontrolera mora biti validan.
			QR_CODE string do 128 karaktera.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=QR_CODE_SET&ID=501&QR_CODE=WIFI:S:MyNet;T:WPA;P:1234;;

odgovor: 	{
			  "status": "success",
			  "message": "QR code set OK",
			  "data": {
			    "result": "QR code set OK"
			  }
			}
			ili u slučaju greške:
			{
			  "status": "success",
			  "message": "QR code set FAILED",
			  "data": {
			    "result": "QR code set FAILED"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	QR_CODE_GET

opis:		pročitaj QR kod sa kontrolera.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=QR_CODE_GET&ID=501

odgovor: 	{
			  "status": "success",
			  "message": "QR code retrieved",
			  "data": {
			    "qr_code": "WIFI:S:MyNet;T:WPA;P:1234;;"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_SYSID

opis:		pročitaj sistemski ID kontrolera.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=GET_SYSID&ID=501

odgovor: 	{
			  "status": "success",
			  "message": "System ID retrieved",
			  "data": {
			    "system_id": 12345,
			    "system_id_hex": "0x3039"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_SYSID

opis:		postavi sistemski ID kontrolera.
			VALUE je decimalna vrijednost 16-bitnog broja.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_SYSID&ID=501&VALUE=12345

odgovor: 	{
			  "status": "success",
			  "message": "System ID set OK",
			  "data": {
			    "result": "System ID set OK"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_VERSION

opis:		bez ID parametra: preuzmi firmware verziju ESP32 uređaja.
			sa ID parametrom: preuzmi firmware verzije STM32 kontrolera sa 
			svih 5 regiona memorije (bootloader, aplikacija, backup bootloader,
			backup aplikacija, i novi fajl). Verzije koje nisu programirane
			ili su neispravne vraćaju se kao null. Format verzije je 0xTTDDDDDD
			gdje je TT tip firmware-a (0x31=bootloader, 0x32=aplikacija),
			a DDDDDD je datum u formatu GGMMDD.

primjer 1: 	http://soba501.local:8020/sysctrl.cgi?CMD=GET_VERSION

odgovor 1: 	{
			  "status": "success",
			  "message": "ESP32 firmware version retrieved",
			  "data": {
			    "device_type": "ESP32",
			    "firmware_version": "1.0.8",
			    "build_number": 8,
			    "build_date": "2026-01-30 14:03:52"
			  }
			}

primjer 2: 	http://soba501.local:8020/sysctrl.cgi?CMD=GET_VERSION&ID=154

odgovor 2: 	{
			  "status": "success",
			  "message": "Command executed successfully",
			  "data": {
			    "bootloader_version": "0x31260129",
			    "application_version": "0x31260201",
			    "bootloader_backup_version": null,
			    "application_backup_version": null,
			    "new_file_version": null
			  }
			}

napomena:	0x31260129 dekodira se kao:
			  - 0x31 = tip 31 (bootloader)
			  - 0x260129 = datum 26.01.29 (29. januar 2026.)
			
			0x00000000 znači da firmware nije programiran ili je neispravan.
			Koristi se za verifikaciju OTA update procesa.
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_ROOM_STATUS

opis:		pročitaj status sobe (Card Stacker status).

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=GET_ROOM_STATUS&ID=501

odgovor: 	{
			  "status": "success",
			  "message": "Room status retrieved",
			  "data": {
			    "room_status": "GUEST_IN",
			    "card_inserted": true
			  }
			}
			ili kada je soba prazna:
			{
			  "status": "success",
			  "message": "Room status retrieved",
			  "data": {
			    "room_status": "EMPTY",
			    "card_inserted": false
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SOS_RESET

opis:		resetuj SOS status alarma. Briše SOS događaj iz memorije i 
			resetuje status varijablu. Koristi se nakon što je osoblje
			reagovalo na SOS poziv.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SOS_RESET

odgovor: 	{
			  "status": "success",
			  "message": "SOS event cleared from memory"
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_IR_PROTOCOL

opis:		Podesi IR protokol za kontrolu klima uređaja. 
			Ova komanda definiše koji set IR kodova će se koristiti za
			slanje signala putem IR emitera. Postavka se čuva u trajnoj
			memoriji i ostaje aktivna nakon restarta.
			
			Parametar VALUE je numerički ID protokola (decode_type_t).
			Lista svih podržanih protokola i njihove vrijednosti:
			
			1 = RC5
			2 = RC6
			3 = NEC
			4 = SONY
			5 = PANASONIC
			6 = JVC
			7 = SAMSUNG
			8 = WHYNTER
			9 = AIWA_RC_T501
			10 = LG
			11 = SANYO
			12 = MITSUBISHI
			13 = DISH
			14 = SHARP
			15 = COOLIX
			16 = DAIKIN
			17 = DENON
			18 = KELVINATOR
			19 = SHERWOOD
			20 = MITSUBISHI_AC
			21 = RCMM
			22 = SANYO_LC7461
			23 = RC5X
			24 = GREE
			25 = PRONTO
			26 = NEC_LIKE
			27 = ARGO
			28 = TROTEC
			29 = NIKAI
			30 = RAW
			31 = GLOBALCACHE
			32 = TOSHIBA_AC
			33 = FUJITSU_AC
			34 = MIDEA
			35 = MAGIQUEST
			36 = LASERTAG
			37 = CARRIER_AC
			38 = HAIER_AC
			39 = MITSUBISHI2
			40 = HITACHI_AC
			41 = HITACHI_AC1
			42 = HITACHI_AC2
			43 = GICABLE
			44 = HAIER_AC_YRW02
			45 = WHIRLPOOL_AC
			46 = SAMSUNG_AC
			47 = LUTRON
			48 = ELECTRA_AC
			49 = PANASONIC_AC
			50 = PIONEER
			51 = LG2
			52 = MWM
			53 = DAIKIN2
			54 = VESTEL_AC
			55 = TECO
			56 = SAMSUNG36
			57 = TCL112AC
			58 = LEGOPF
			59 = MITSUBISHI_HEAVY_88
			60 = MITSUBISHI_HEAVY_152
			61 = DAIKIN216
			62 = SHARP_AC
			63 = GOODWEATHER
			64 = INAX
			65 = DAIKIN160
			66 = NEOCLIMA
			67 = DAIKIN176
			68 = DAIKIN128
			69 = AMCOR
			70 = DAIKIN152
			71 = MITSUBISHI136
			72 = MITSUBISHI112
			73 = HITACHI_AC424
			74 = SONY_38K
			75 = EPSON
			76 = SYMPHONY
			77 = HITACHI_AC3
			78 = DAIKIN64
			79 = AIRWELL
			80 = DELONGHI_AC
			81 = DOSHISHA
			82 = MULTIBRACKETS
			83 = CARRIER_AC40
			84 = CARRIER_AC64
			85 = HITACHI_AC344
			86 = CORONA_AC
			87 = MIDEA24
			88 = ZEPEAL
			89 = SANYO_AC
			90 = VOLTAS
			91 = METZ
			92 = TRANSCOLD
			93 = TECHNIBEL_AC
			94 = MIRAGE
			95 = ELITESCREENS
			96 = PANASONIC_AC32
			97 = MILESTAG2
			98 = ECOCLIM
			99 = XMP
			100 = TRUMA
			101 = HAIER_AC176
			102 = TEKNOPOINT
			103 = KELON
			104 = TROTEC_3550
			105 = SANYO_AC88
			106 = BOSE
			107 = ARRIS
			108 = RHOSS
			109 = AIRTON
			110 = COOLIX48
			111 = HITACHI_AC264
			112 = KELON168
			113 = HITACHI_AC296
			114 = DAIKIN200
			115 = HAIER_AC160
			116 = CARRIER_AC128
			117 = TOTO
			118 = CLIMABUTLER
			119 = TCL96AC
			120 = BOSCH144
			121 = SANYO_AC152
			122 = DAIKIN312
			123 = GORENJE
			124 = WOWWEE
			125 = CARRIER_AC84
			126 = YORK
			127 = BLUESTARHEAVY
			128 = EUROM

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_IR_PROTOCOL&VALUE=20

odgovor: 	{
			  "status": "success",
			  "message": "IR protocol set",
			  "data": {
			    "protocol_id": 20,
			    "protocol_name": "GREE"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	GET_IR_PROTOCOL

opis:		Pročitaj trenutno aktivni IR protokol i njegov naziv.

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=GET_IR_PROTOCOL

odgovor: 	{
			  "status": "success",
			  "message": "IR protocol retrieved",
			  "data": {
			    "protocol_id": 20,
			    "protocol_name": "GREE"
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	SET_IR

opis:		Pošalji osnovnu komandu klima uređaju (ON/OFF, Mod, Temperatura).
			Zahtijeva da je prethodno podešen protokol pomoću SET_IR_PROTOCOL.
			Brzina ventilatora je uvijek AUTO.

parametri:	MOD - Režim rada: OFF, HEATING, COOLING
			VALUE - Zadana temperatura (obavezno za HEATING/COOLING, ignoriše se za OFF)

primjer: 	http://soba501.local:8020/sysctrl.cgi?CMD=SET_IR&MOD=COOLING&VALUE=21
			http://soba501.local:8020/sysctrl.cgi?CMD=SET_IR&MOD=OFF

odgovor: 	{
			  "status": "success",
			  "message": "IR Command Sent",
			  "data": {
			    "protocol": "GREE",
			    "power": "ON",
			    "mode": "COOLING",
			    "temp": 21
			  }
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
			FIRMWARE UPDATE & FILE SYSTEM API
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	/upload

metod:		POST (multipart/form-data)

opis:		Upload fajla u eksternu flash memoriju. Sistem podržava 8 slotova (0-7).
			Slotovi 0-3 su za sistemski firmware (validacija verzije i headera).
			Slotovi 4-7 su za raw binarne fajlove (slike, resursi).
			Parametar 'slot' se može poslati u URL-u ili kao dio multipart forme.
			Napomena: Upload velikih fajlova može potrajati.

parametri:	slot (0-7) - Indeks slota u koji se upisuje fajl.
			file - Binarni sadržaj fajla.

primjer: 	curl -X POST -F "slot=0" -F "file=@firmware.bin" http://soba501.local:8020/upload

odgovor: 	{
			  "status": "success",
			  "message": "Upload Complete"
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	/slots

metod:		GET

opis:		Prikazuje status svih 8 slotova u eksternoj flash memoriji.
			Vraća informacije o tipu sadržaja, veličini, verziji (za firmware),
			nazivu fajla (za raw slotove) i validnosti podataka (CRC32).

primjer: 	http://soba501.local:8020/slots

odgovor: 	{
			  "slots": [
			    {
			      "id": 0,
			      "type": "firmware",
			      "size": 123456,
			      "version": 32260201,
			      "crc32": 2864383858,
			      "valid": true
			    },
			    {
			      "id": 4,
			      "type": "raw_binary",
			      "filename": "image.bin",
			      "size": 45056,
			      "crc32": 12345678,
			      "valid": true
			    },
			    ...
			  ]
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	/start_update

metod:		POST

opis:		Pokreće proces ažuriranja firmware-a na STM32 kontroleru koristeći
			podatke iz odabranog slota eksterne flash memorije.
			Adrese staging memorije su predefinisane:
			- Slotovi 0-2: Koriste ADDR_FW_STAGING (0x90F00000)
			- Slotovi 4-6: Koriste ADDR_EXT_FLASH (0x90000000)
			- Slotovi 3 i 7: Koriste default vrijednosti ali dozvoljavaju override
			  putem parametra 'staging_addr'.

parametri:	slot (0-7) - Izvor podataka (slot u eksternom flash-u).
			addr (int) - Odredišna adresa u internoj memoriji STM32 kontrolera.
			staging_addr (int, opcionalno) - Adresa izvora (samo za slotove 3 i 7).

primjer: 	http://soba501.local:8020/start_update?slot=0&addr=134217728

odgovor: 	{
			  "status": "success",
			  "message": "Update Started"
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	/update_status

metod:		GET

opis:		Vraća trenutni status procesa ažuriranja.
			State vrijednosti: 0=IDLE, 1=STARTING, 2=ERASING, 3=WRITING, 4=VERIFYING, 5=FINISHED, 6=ERROR.

primjer: 	http://soba501.local:8020/update_status

odgovor: 	{
			  "active": true,
			  "state": 3,
			  "progress": 45,
			  "lastError": 0
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------
komanda:	/reset_update

metod:		POST

opis:		Resetuje status servisa za ažuriranje na IDLE. Korisno u slučaju
			zaglavljenog procesa ili greške.

primjer: 	http://soba501.local:8020/reset_update

odgovor: 	{
			  "status": "success",
			  "message": "Update service reset to IDLE"
			}
----------------------------------------------------------------------
----------------------------------------------------------------------
----------------------------------------------------------------------1
----------------------------------------------------------------------
komanda:	/hexdump

metod:		GET

opis:		Debug alat za čitanje sirovog sadržaja iz eksterne flash memorije.

parametri:	slot (0-7) - Indeks slota.
			offset (int) - Početna adresa čitanja unutar slota.
			len (int, opcionalno) - Broj bajtova za čitanje (max 1024, default 64).

primjer: 	http://soba501.local:8020/hexdump?slot=0&offset=0&len=128

odgovor: 	(Plain text hex dump)
			Hex Dump Slot 0 Offset 0:
			0: FF FF FF FF ...